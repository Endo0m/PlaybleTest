import { _decorator, Component } from 'cc';
import { PlayerDamageReceiver } from './PlayerDamageReceiver';

const { ccclass, property } = _decorator;

@ccclass('PlayerInvulnerability')
export class PlayerInvulnerability extends Component {
    @property({ type: PlayerDamageReceiver })
    public playerDamageReceiver: PlayerDamageReceiver | null = null;

    public isInvulnerableNow(): boolean {
        return this.playerDamageReceiver ? this.playerDamageReceiver.isInvulnerable() : false;
    }

    public startInvulnerability(): void {
        // Инвулн и мигание полностью контролируются PlayerDamageReceiver.
        // Здесь ничего больше делать не нужно.
        // Если хочешь принудительно "включать" инвулн без урона — это надо добавить в receiver отдельно.
    }
}
